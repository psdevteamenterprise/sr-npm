{"version":3,"names":["_filterMixin","_interopRequireDefault","require","FilterBuilder","filterMixin","constructorName","_build","getFilterModel","exports","PlatformizedFilterBuilder","in","args","_AndSetOperand","exists","_binaryAnd","gte","field","value","ge","lte","le","build","hasAnyFilter","_this$filterTree","filterTree","undefined","Object","keys","every","x","$and","length","platformizedFilterBuilder","options","filterBuilderFactory","_default","default"],"sources":["../../../src/filter/filterBuilder.ts"],"sourcesContent":["import filterMixin from './filterMixin'\nimport WithFilter from './WithFilter'\n\nexport class FilterBuilder extends filterMixin() {\n  get constructorName() {\n    return 'FilterBuilder'\n  }\n\n  _build() {\n    return this.getFilterModel()\n  }\n}\n\nexport class PlatformizedFilterBuilder\n  extends filterMixin()\n  implements WithFilter<PlatformizedFilterBuilder>\n{\n  in(...args: any[]) {\n    return this._AndSetOperand('$in', '.in', args)\n  }\n\n  exists(...args: any[]) {\n    return this._binaryAnd('$exists', '.exists', args)\n  }\n\n  gte(field: any, value: any) {\n    return this.ge(field, value)\n  }\n\n  lte(field: any, value: any) {\n    return this.le(field, value)\n  }\n\n  build() {\n    return this.getFilterModel()\n  }\n\n  hasAnyFilter(): boolean {\n    if (this.filterTree === null || this.filterTree === undefined) {\n      return false\n    }\n    if (!Object.keys(this.filterTree).every((x) => x === '$and')) {\n      return false\n    }\n    return (this.filterTree?.$and?.length ?? 0) > 0\n  }\n}\n\nexport function platformizedFilterBuilder(options = {}) {\n  return new PlatformizedFilterBuilder(options)\n}\n\nexport function filterBuilderFactory() {\n  return new FilterBuilder({})\n}\n\nexport default filterBuilderFactory\n"],"mappings":";;;;;;;AAAA,IAAAA,YAAA,GAAAC,sBAAA,CAAAC,OAAA;AAGO,MAAMC,aAAa,SAAS,IAAAC,oBAAW,EAAC,CAAC,CAAC;EAC/C,IAAIC,eAAeA,CAAA,EAAG;IACpB,OAAO,eAAe;EACxB;EAEAC,MAAMA,CAAA,EAAG;IACP,OAAO,IAAI,CAACC,cAAc,CAAC,CAAC;EAC9B;AACF;AAACC,OAAA,CAAAL,aAAA,GAAAA,aAAA;AAEM,MAAMM,yBAAyB,SAC5B,IAAAL,oBAAW,EAAC,CAAC,CAEvB;EACEM,EAAEA,CAAC,GAAGC,IAAW,EAAE;IACjB,OAAO,IAAI,CAACC,cAAc,CAAC,KAAK,EAAE,KAAK,EAAED,IAAI,CAAC;EAChD;EAEAE,MAAMA,CAAC,GAAGF,IAAW,EAAE;IACrB,OAAO,IAAI,CAACG,UAAU,CAAC,SAAS,EAAE,SAAS,EAAEH,IAAI,CAAC;EACpD;EAEAI,GAAGA,CAACC,KAAU,EAAEC,KAAU,EAAE;IAC1B,OAAO,IAAI,CAACC,EAAE,CAACF,KAAK,EAAEC,KAAK,CAAC;EAC9B;EAEAE,GAAGA,CAACH,KAAU,EAAEC,KAAU,EAAE;IAC1B,OAAO,IAAI,CAACG,EAAE,CAACJ,KAAK,EAAEC,KAAK,CAAC;EAC9B;EAEAI,KAAKA,CAAA,EAAG;IACN,OAAO,IAAI,CAACd,cAAc,CAAC,CAAC;EAC9B;EAEAe,YAAYA,CAAA,EAAY;IAAA,IAAAC,gBAAA;IACtB,IAAI,IAAI,CAACC,UAAU,KAAK,IAAI,IAAI,IAAI,CAACA,UAAU,KAAKC,SAAS,EAAE;MAC7D,OAAO,KAAK;IACd;IACA,IAAI,CAACC,MAAM,CAACC,IAAI,CAAC,IAAI,CAACH,UAAU,CAAC,CAACI,KAAK,CAAEC,CAAC,IAAKA,CAAC,KAAK,MAAM,CAAC,EAAE;MAC5D,OAAO,KAAK;IACd;IACA,OAAO,CAAC,EAAAN,gBAAA,OAAI,CAACC,UAAU,cAAAD,gBAAA,GAAfA,gBAAA,CAAiBO,IAAI,qBAArBP,gBAAA,CAAuBQ,MAAM,KAAI,CAAC,IAAI,CAAC;EACjD;AACF;AAACvB,OAAA,CAAAC,yBAAA,GAAAA,yBAAA;AAEM,SAASuB,yBAAyBA,CAACC,OAAO,GAAG,CAAC,CAAC,EAAE;EACtD,OAAO,IAAIxB,yBAAyB,CAACwB,OAAO,CAAC;AAC/C;AAEO,SAASC,oBAAoBA,CAAA,EAAG;EACrC,OAAO,IAAI/B,aAAa,CAAC,CAAC,CAAC,CAAC;AAC9B;AAAC,IAAAgC,QAAA,GAAA3B,OAAA,CAAA4B,OAAA,GAEcF,oBAAoB","ignoreList":[]}