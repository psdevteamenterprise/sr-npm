import { WixDataItem, WixDataBulkResult, WixDataPatchOptions } from '../types';
import { FieldModification, WixDataBulkPatch, WixDataPatch } from '../WixDataPatch';
interface BulkPatchParams {
    collectionName: string;
    itemIds: string[];
    invalidArguments: string[];
    fieldModifications: FieldModification[];
}
interface PatchParams {
    collectionName: string;
    itemId: string;
    invalidArguments: string[];
    fieldModifications: FieldModification[];
}
type OnRun = (args: IArguments, params: PatchParams, options?: WixDataPatchOptions) => Promise<WixDataItem | null>;
type OnBulkRun = (args: IArguments, params: BulkPatchParams, options?: WixDataPatchOptions) => Promise<WixDataBulkResult>;
declare abstract class WixDataPatchBase<Self> {
    protected readonly fieldModifications: FieldModification[];
    protected readonly collectionName: string;
    protected readonly ownInvalidArguments: string[];
    constructor(origin: {
        collectionName: string;
        invalidArguments?: string[];
        fieldModifications?: FieldModification[];
    });
    protected abstract copy(params: {
        invalidArguments?: string[];
        addFieldModification: FieldModification;
    }): Self;
    incrementField(fieldName: string, by: number): Self;
    setField(fieldName: string, value: any): Self;
    appendToArray(fieldName: string, value: any): Self;
    removeFromArray(fieldName: string, value: any): Self;
    removeField(fieldName: string): Self;
    private patchValidator;
}
export declare class WixDataBulkPatchImpl extends WixDataPatchBase<WixDataBulkPatchImpl> implements WixDataBulkPatch {
    private readonly onRun;
    readonly itemIds: string[];
    constructor(origin: {
        collectionName: string;
        itemIds: string[];
        invalidArguments?: string[];
        fieldModifications?: FieldModification[];
        onRun: OnBulkRun;
    });
    protected copy(params: {
        invalidArguments?: string[];
        addFieldModification: FieldModification;
    }): WixDataBulkPatchImpl;
    run(options?: WixDataPatchOptions): Promise<WixDataBulkResult>;
}
export declare class WixDataPatchImpl extends WixDataPatchBase<WixDataPatchImpl> implements WixDataPatch {
    private readonly onRun;
    readonly itemId: string;
    constructor(origin: {
        collectionName: string;
        itemId: string;
        invalidArguments?: string[];
        fieldModifications?: FieldModification[];
        onRun: OnRun;
    });
    protected copy(params: {
        invalidArguments?: string[];
        addFieldModification: FieldModification;
    }): WixDataPatchImpl;
    run(options?: WixDataPatchOptions): Promise<WixDataItem | null>;
}
export {};
//# sourceMappingURL=WixDataPatchImpl.d.ts.map